<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <title>Huffman Code Generator</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        background-color: #1C1C1C;
        color: #D4D4D2;
    }
    
    h1 {
        text-align: center;
        margin-bottom: 1rem;
    }
    
    #textarea {
        width: 80%;
        height: 20rem;
        margin: 0 10%;
        resize: none;
        overflow: hidden;
        overflow-x: auto;
        padding: 0.5rem;
    }
    
    .bodyContainer {
        width: 100%;
        height: auto;
        margin: 2rem 0;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
    }
    
    @media screen and (max-width:800px) {
        .bodyContainer {
            flex-direction: column;
        }
    }
    
    .tableContainer {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 50%;
        /* border: 1px solid black; */
    }
    
    table {
        /* border: 1px solid black; */
        border-collapse: collapse;
        font-weight: bold;
        font-size: 1.5rem;
        margin: 0 auto;
    }
    
    table th {
        background-color: yellow;
    }
    
    table th,
    table td {
        border-right: 1px solid black;
        border-bottom: 1px solid black;
    }
    
    table tr:first-child td {
        padding: 0.7rem;
        background-color: #FF9500;
        color: #505050;
    }
    
    table tr:nth-child(n+2) td {
        font-size: 1.2rem;
        font-weight: lighter;
        background-color: #505050;
    }
    
    table td:nth-child(3),
    table th:nth-child(3) {
        padding: 0 0.3rem;
        border: none;
        border-bottom: 1px solid black;
    }
    
    table tr:last-child td {
        border-bottom: none;
    }
    
    .info {
        /* border: 1px solid black; */
        padding: 0 1rem;
        width: 50%;
    }
    
    .info p {
        margin: 1rem 0;
        padding: 0.3rem;
    }
    
    .info p b {
        text-decoration: underline;
    }
    
    .info p:last-child {
        border: 1px solid #D4D4D2;
        word-spacing: 5px;
    }
    
    #submit {
        padding: 0.3rem 0.7rem;
        background-color: #FF9500;
        color: #1C1C1C;
        font-weight: 600;
        border-radius: 0.5rem;
    }
</style>

<body>
    <h1>Huffman Code Generator</h1>
    <form action="/uploaded" method="post" enctype="application/x-www-form-urlencoded">
        <textarea id="textarea" name='textarea' placeholder="Enter Your Text Here..."><%= data %></textarea>
        <input type="text" name="fileLocation" placeholder="Enter File Location" style="width: 400px; max-width: 80%; margin: 0 10%; margin-right: 3%; background-color: #D4D4D2; color: #1C1C1C;
        padding: 0.3rem 0.7rem;">
        <button type="submit" id="submit">Upload</button>
    </form>
    <div class="bodyContainer">
        <div class="tableContainer">
            <table>
                <tr>
                    <td>Character</td>
                    <td>Frequency</td>
                    <td>Code</td>
                </tr>
                <% renderToTable.forEach((ele,index)=>{ %>
                    <tr>
                        <td>
                            <%= ele.character -%>
                        </td>
                        <td>
                            <%= ele.frequency -%>
                        </td>
                        <td>
                            <%= ele.code -%>
                        </td>
                    </tr>
                    <% }) %>
            </table>
        </div>

        <div class="info">
            <p><b>Total Number of Bits :-</b>
                <%= totalBits %>
            </p>
            <p><b>AverageBits:-</b>
                <%= averageBits %>
            </p>
            <p>
                <b>Code To generate the text:-</b>
                <%=code-%>
            </p>
        </div>
    </div>
</body>


</html>